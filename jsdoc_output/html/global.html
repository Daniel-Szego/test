<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="approveERC20"><span class="type-signature">(async) </span>approveERC20<span class="signature">(token, amount, dex)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    before erc20 trade DEX endpoint contract must be approved of taking the needed amount of erc20 token
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ethereum address of the token contract</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">amount of token in wei to approve of, should be same as the from amount of the trade</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dex</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">indentifier of the dex to find it in dex registry</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="closeFund"><span class="type-signature">(async) </span>closeFund<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    for fund managers
close every order and close fund
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="invest"><span class="type-signature">(async) </span>invest<span class="signature">(amount)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Make a new investment in the fund - for end users
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">amount of investment in wei</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="trade"><span class="type-signature">(async) </span>trade<span class="signature">(from, to, fromAmount, toAmount)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    for fund managers
Initiate a new trade directive trough Orders (can manifest in making a new order or closing an existing one)
If from address is an erc20 token, approval must happen first 
(DEX endpoint contract must be approved of taking the needed amount of erc20 token: approveERC20 functions)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>from</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ethereum address of erc20 token or 0x0...0 if ETH</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>to</code></td>
            

            <td class="type">
            
                
<span class="param-type">stirng</span>


            
            </td>

            

            

            <td class="description last">ethereum address of erc20 token or 0x0...0 if ETH</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fromAmount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toAmount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="watchFundClosedEvent"><span class="type-signature">(async) </span>watchFundClosedEvent<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    (ethereum) Event watcher function for fund closed event
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">funtion</span>


            
            </td>

            

            

            <td class="description last">should have an event parameter to handle it
closeOrder event will have the no retrun values
rest of the event object will look something like in the end of this example:
https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#id34</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line108">line 108</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="watchNewInvestmentEvent"><span class="type-signature">(async) </span>watchNewInvestmentEvent<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    (ethereum) Event watcher function for new investments
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">funtion</span>


            
            </td>

            

            

            <td class="description last">should have an event parameter to handle it
newInvestment event will have the following retrun values:
event.returnvalues: {
 investor, -address string
 amount -number in wei
}
rest of the event object will look something like in the end of this example:
https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#id34</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="watchNewWithdrawalEvent"><span class="type-signature">(async) </span>watchNewWithdrawalEvent<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    (ethereum) Event watcher function for new withdrawals
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">funtion</span>


            
            </td>

            

            

            <td class="description last">should have an event parameter to handle it
newWithdrawal event will have the following retrun values:
event.returnvalues: {
 investor, -address string
 amount -number in wei
}
rest of the event object will look something like in the end of this example:
https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#id34</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="watchStopLossTriggeredEvent"><span class="type-signature">(async) </span>watchStopLossTriggeredEvent<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    (ethereum) Event watcher function for stop loss trigger
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">funtion</span>


            
            </td>

            

            

            <td class="description last">should have an event parameter to handle it
stopLossTriggered event will have the no retrun values
rest of the event object will look something like in the end of this example:
https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#id34</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="withdraw"><span class="type-signature">(async) </span>withdraw<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Withdraw all investments from the fund - for end users
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="investmentRecord">investmentRecord</h4>




<div class="description">
    Returns a list of investmentRecord-s in the order they have created -newInvestment (ethereum) event-, 
the number of returned investmentRecord-s is limited by the limit parameter
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>investor</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ethereum address of the investor</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">amount of investment in wei</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Fund.js.html">Fund.js</a>, <a href="Fund.js.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#approveERC20">approveERC20</a></li><li><a href="global.html#closeFund">closeFund</a></li><li><a href="global.html#invest">invest</a></li><li><a href="global.html#trade">trade</a></li><li><a href="global.html#watchFundClosedEvent">watchFundClosedEvent</a></li><li><a href="global.html#watchNewInvestmentEvent">watchNewInvestmentEvent</a></li><li><a href="global.html#watchNewWithdrawalEvent">watchNewWithdrawalEvent</a></li><li><a href="global.html#watchStopLossTriggeredEvent">watchStopLossTriggeredEvent</a></li><li><a href="global.html#withdraw">withdraw</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Thu Jun 20 2019 13:26:05 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>